CREATE TYPE wypozyczenia_type as object (
   dataWypozyczenia       TIMESTAMP,
   zwrotPrzed             TIMESTAMP,
   dataZwrotu             TIMESTAMP,
   MEMBER PROCEDURE zwroc(),
   PRAGMA RESTRICT_REFERENCES (zwroc, RNDS, RNPS, WNPS)
);

CREATE TYPE czytelnicy_type as object (
    NrKarty               NUMBER(5).
    Nazwisko              VARCHAR(50),
    Imie                  VARCHAR(50),
    IdDokumentu           VARCHAR(20),
    NrDokumentu           VARCHAR(20),
    DataUr                DATE,
    MiejsceUr             VARCHAR(50),
    Kod                   NUMBER(5),
    Miasto                VARCHAR(50),
    IdUlicy               NUMBER(5),
    Ulica                 VARCHAR(50),
    Telefon               NUMBER(11)
);

CREATE OR REPLACE TYPE BODY wypozyczalnia_type IS
    MEMBER PROCEDURE zwroc () IS
    BEGIN
        SELF.dataZwrotu:= SELECT CURRENT_TIMESTAMP FROM dual;
    END;
END;
